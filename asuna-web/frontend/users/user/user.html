<div class="container">

  <div class="row justify-content-center text-center">
    <div class="col">
      <h1>{{vm.user.discord_name}}</h1>
    </div>
  </div>
  <div class="row justify-content-center text-center">
    <div class="col text-dark">
      <i class="fa fa-gamepad fa-md"></i> <span class="timestamp">{{vm.user.eso_name}}</span>
      |
      <i class="fa fa-ticket fa-md"></i> <span class="timestamp">{{vm.user.guild_rank}}</span>
      |
      <i class="fa fa-trophy fa-md"></i> <span>{{vm.completedSignups.length}}</span>
    </div>
  </div>
  <div class="row justify-content-center text-center" ng-if="vm.user.guild_rank == 'Thrall' && vm.completedSignups.length >= 5">
    <div class="col">
      <h4 class="text-success" style="margin-bottom:0px;"><i class="fa fa-angle-double-up"></i> Promotion Available <i class="fa fa-angle-double-up"></i></h4>
    </div>
  </div>
  <hr>

  <div class="card mx-auto" style="min-height:200px;">
    <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs">
      <li class="nav-item hoverable">
        <a class="nav-link lead" data-ng-click="vm.viewSignups($event)" id="upcoming-tab" data-ng-class="{'bg-shade': vm.activeTab == 'upcoming-tab'}">Upcoming</a>
      </li>
      <li class="nav-item hoverable">
        <a class="nav-link lead" data-ng-click="vm.viewSignups($event)" id="completed-tab" data-ng-class="{'bg-shade': vm.activeTab == 'completed-tab'}">Completed</a>
      </li>
    </ul>
  </div>
  <div class="card-body bg-shade">
      <div class="card-hoverable mb-3 mx-auto bg-light" style="width:85%" data-ng-repeat="signup in vm.signups | orderBy: '-event.event_time' ">

        <div class="card-body row" data-ng-click="vm.viewEvent(signup.event_id)">

          <div class="col col-4">
            <div class="card-title">
              <h5 class="event-title">
                {{signup.event.event_name | limitTo: 20}}{{signup.event.event_name.length > 20 ? '...' : ''}}
              </h5>
            </div>
            <div class="card-subtitle ">
              <em class="text-muted">{{signup.event.trial_name}} with {{signup.event.event_leader}}</em>
            </div>
          </div>

          <div class="col col-6 align-self-center role-section">

            <h4 class="role-icon" data-ng-class="{'bg-success': (signup.primary_role == 'TANK'), 'bg-warning': (signup.flex_roles.split(',').includes('TANK'))}">
              <i class="fa fa-shield"></i>
            </h4>

            <h4 class="role-icon" data-ng-class="{'bg-success': (signup.primary_role == 'HEALER'), 'bg-warning': (signup.flex_roles.split(',').includes('HEALER'))}">
              <i class="fa fa-medkit"></i>
            </h4>

            <h4 class="role-icon" data-ng-class="{'bg-success': (signup.primary_role == 'MDPS'), 'bg-warning': (signup.flex_roles.split(',').includes('MDPS'))}">
              <i class="ra ra-crossed-swords"></i>
            </h4>

            <h4 class="role-icon" data-ng-class="{'bg-success': (signup.primary_role == 'RDPS'), 'bg-warning': (signup.flex_roles.split(',').includes('RDPS'))}">
              <i class="ra ra-arrow-cluster"></i>
            </h4>

          </div>

          <div class="col text-right">
            <em class="timestamp text-muted">{{signup.event.event_time}}</em>
          </div>

        </div>

      </div>

      <div class="row justify-content-center w-100 no-results">
        <div class="col text-center">
          <h1>No Signups</h1>
        </div>
      </div>
    </div>

</div>
